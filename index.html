<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Colorado Governor campaign finance</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">


<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/u/dt/jq-2.2.3,dt-1.10.12,r-2.1.0/datatables.min.css"/>

<link rel = "stylesheet" type = "text/css" href ="lib/styles.css" />

</head>

<body>




  
    <section class = "top-info">
      <article class = "main-hed">
        <div class = "header-left">
          <div class = "logo"> 
            <img src = "lib/images/copo_logo.png" alt = "colorado politics logo" class = "logo-image">
          </div>
            
          <div class = "vertical-line"> </div>
          <div class = "header-text"><h1> Colorado governor's race campaign finance database</h1>

          </div>
        </div>

        <div class = "header-right">
          <div id ="select-candidate"> </div>
        </div>


      </article>
    </section>
<section class = "main-database">
      <div id ="candidate-info">
     
   </div>

    <div id="database-hed"> 
     <!--  <h3> Donations for George Brauchler</h3>
       <p class="explainer"> Donations are those reported by candidate committees between Jan. 1 - Oct. 10 2017.  </p> -->
      

    </div>

   <!--  <div class="explainer">

    </div> -->


    <table id="example" class="display" cellspacing="0" width="100%">
    <caption></caption>
        <thead>
            <tr>
          
               <th>co_id</th>
               <th class= "select-filter">Candidate</th>
               <th> Party </th>
               <th>Donation </th>
              <th>Donor</th>
              <th>Donor city</th>
              <th>Donor State</th>
              <th>Donor Zip</th>
               <th>Donation date</th>
              <th> record </th>
              <th>Contribution type</th>
              <th> Donor employer </th>
              <th>Donor occuption</th>
            </tr>
        </thead>
    </table>

  </section>

             
    

           


<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
 
<script type="text/javascript" src="https://cdn.datatables.net/u/dt/jq-2.2.3,dt-1.10.12,r-2.1.0/datatables.min.js"></script>

<script type ="text/javascript" src = "scripts/index.js"> </script>


<script>
// $(document).ready(function() {
//     $('#example').DataTable( {
//  "ajax": "data/candidate_json.json",

// 	columns: [
//             { data: 'CO_ID' },
//             { data: 'candidate_full' },
//             { data: 'party' },
//             { data: 'ContributionAmount',
//             render: $.fn.dataTable.render.number( ',', '.', 2, '$' )
//              },
//             { data: 'ContributionDate' },
//             { data: 'donor' },
//             { data: 'city' },
//             { data: 'State' },
//             { data: 'Zip' },
//             { data: 'RecordID' },
//             { data: 'ContributionType' },
//             { data: 'employer' },
//             { data: 'Occupation' },
//             { data: 'sumDonations', 
//              render: $.fn.dataTable.render.number( ',', '.', 2, '$' )
//             },
//             { data: 'totalDonations', 
//              render: $.fn.dataTable.render.number( ',', '.', 2, )
//             }
          

//         ],
//     "responsive": true,
//     "iDisplayLength": 50,
//     "deferRender": true,

// 	 "columnDefs": [
//             {
//                 "targets": [0],
//                 "visible": false,
//                 "searchable": false
//             }
//         ],

//         initComplete: function () {
//             this.api().columns('.select-filter').every( function () {
//                 var column = this;
//                 var select = $('<select class="main-select"><option value="all">Select a candidate</option></select>')
//                     .appendTo( $('#select-candidate').empty() )
//                     .on( 'change', function () {
//                         var val = $.fn.dataTable.util.escapeRegex(
                          
//                             $(this).val(),
//                             clearDiv(),
//                             setCandidate($(this).val()),

//                             // clearDiv()
                            
//                         );
 
//                         column
//                             .search( val ? '^'+val+'$' : '', true, false )
//                             .draw();
//                     } );
 
//                 column.data().unique().sort().each( function ( d, j ) {
//                     select.append( '<option value="'+d+'">'+d+'</option>' )
                  
//                 } );
//             } );
//         }
        
// } );


// function clearDiv () {
// $('#candidate-info').html("")
// }


//    var candidateTotal = [
//    {
//         "id": 20135025390,
//         "name": "Jim Rundberg",
//         "party": "Republican",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/jim_rundberg.jpg",
//         "total": 331.66,
//         "count": 1
//     },
//     {
//         "id": 20165031883,
//         "name": "Noel Ginsburg",
//         "party": "Democrat",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/noel_ginsburg.jpeg",
//         "total": 473376.84,
//         "count": 774
//     },
//     {
//         "id": 20175031889,
//         "name": "Michael Johnston",
//         "party": "Democrat",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/michael_johnston.jpg",
//         "total": 1265267.98,
//         "count": 5883
//     },
//     {
//         "id": 20175031909,
//         "name": "Victor Mitchell",
//         "party": "Republican",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/victor_mitchell.jpg",
//         "total": 27148.23,
//         "count": 358
//     },
//     {
//         "id": 20175031962,
//         "name": "Lew Gaiter",
//         "party": "Republican",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/lew_gaiter.jpg",
//         "total": 10821.27,
//         "count": 33
//     },
//     {
//         "id": 20175032022,
//         "name": "George Brauchler",
//         "party": "Republican",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/george_brauchler.jpg",
//         "total": 295309.33,
//         "count": 1349
//     },
//     {
//         "id": 20175032027,
//         "name": "Ed Perlmutter",
//         "party": "Democrat",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/ed_perlmutter.jpg",
//         "total": 140108.76,
//         "count": 2165
//     },
//     {
//         "id": 20175032028,
//         "name": "Cary Kennedy",
//         "party": "Democrat",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/cary_kennedy.jpeg",
//         "total": 576179.8,
//         "count": 3733
//     },
//     {
//         "id": 20175032055,
//         "name": "Doug Robinson",
//         "party": "Republican",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/doug_robinson.jpg",
//         "total": 282949,
//         "count": 469
//     },
//     {
//         "id": 20175032085,
//         "name": "Kathleen",
//         "party": "Unaffiliated",
//         "photoUrl": "",
//         "total": 11,
//         "count": 3
//     },
//     {
//         "id": 20175032123,
//         "name": "Greg Lopez",
//         "party": "Republican",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/greg_lopez.jpg",
//         "total": 7650,
//         "count": 41
//     },
//     {
//         "id": 20175032139,
//         "name": "Jared Polis",
//         "party": "Democrat",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/jared_polis.jpg",
//         "total": 731555.84,
//         "count": 2201
//     },
//     {
//         "id": 20175032283,
//         "name": "Donna Lynne",
//         "party": "Democrat",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/donna_lynne.jpg",
//         "total": 384910.05,
//         "count": 884
//     },
//     {
//         "id": 20175033116,
//         "name": "Walker Stapleton",
//         "party": "Republican",
//         "photoUrl": "http://www3.gazette.com/maria/governor_campaign_finance_2017/images/walker_stapleton.png",
//         "total": 8031,
//         "count": 22
//     }
// ]

// function setCandidate(candidate) {

// var candidateInfo = candidateTotal.filter(function(person){
//   return person.name === candidate;
// })
// prependCandidate(candidateInfo[0].name, candidateInfo[0].party, candidateInfo[0].total.toLocaleString(), candidateInfo[0].count.toLocaleString(), candidateInfo[0].photoUrl  )
//   } 

// function prependCandidate (name, party, total, count, photo) {
//   $('#candidate-info').prepend(


//    `<article>
//       <div class = "candidate-left">
//         <div class ="round-image">
//           <img src = "${photo}" class="round-large"/>
//         </div>
//         <div class ="candidate-name">
//           <h2> ${name} </h2>
//           <p class ="party"> ${party}  </p>
//         </div>
//       </div>
//       <div class ="candidate-right">
//         <p class="candidate-money"> Total raised: <span class ="accent-color"> $${total}</span> </p> 
//         <p class="candidate-money"> Number of donations: <span class = "accent-color"> ${count} </span> </p>
//       </div>
//     </article>`)
// };







//  console.log(candidateTotal[0].name)

//  candidateTotal.forEach(function(person){

//  })


  
//   function selectCandidate() {
//     var candidateValue = $(this).find('select').val();
   
//     console.log(candidateValue)
    

//     clearDiv();

//     if (candidateValue === 'Ed Perlmutter') {
//        $('#candidate-info').prepend('Perlmutter');

//       $('#candidate-info').prepend('Perlmutter')
//     }

//      else if 
//       (candidateValue ==="George Brauchler") {
//        $('#candidate-info').prepend('Brauchler')
//     }else if 
//       (candidateValue ==="Jared Polis") {
//        $('#candidate-info').prepend('Polis')
//     } else if 
//       (candidateValue ==="Michael Johnston") {
//        $('#candidate-info').prepend('Johnston')
//     } else {
//       console.log('candidate doesnt appear' )
//     }

//   }



// } ); 



</script>




</body>
</html>
